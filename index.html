<!--
Copyright 2022 SONG YIDING

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Allocator | Harrow Debating Society</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>

<body style="text-align: center;">
    <div style="padding: 2rem; margin-bottom: 5rem;">
        <div class="container text-center">
            <div class="row">
                <div class="col-6">
                    <div class="form-floating">
                        <textarea placeholder="Speakers" id="speakers" class="form-control"  style="height: 10rem;"></textarea>
                        <label for="speakers">Speakers</label>
                    </div>
                </div>
                <div class="col">
                    <div class="form-floating">
                        <textarea placeholder="Rooms" id="rooms" class="form-control"  style="height: 10rem;"></textarea>
                        <label for="rooms">Rooms</label>
                    </div>
                </div>
                <div class="col">
                    <div class="form-floating">
                        <textarea placeholder="Adjudicators" id="adjudicators" class="form-control"  style="height: 10rem;"></textarea>
                        <label for="adjudicators">Adjudicators</label>
                    </div>
                </div>
            </div>
        </div>
        <br/>

        <div>
            
            <div class="btn-group" role="group" aria-label="Basic example">
                <button onclick="main()" type="button" class="btn btn-primary"
                    data-bs-toggle="tooltip" data-bs-placement="bottom"
                    data-bs-title="Create draw"
                >Draw</button>
                <button onclick="copyMagic()" type="button" class="btn btn-outline-primary"
                    data-bs-toggle="tooltip" data-bs-placement="bottom"
                    data-bs-title="Copy magic from this draw" id="copyBtn"
                >âœ‚</button>
                <button onclick="paste()" type="button" class="btn btn-outline-primary"
                    data-bs-toggle="tooltip" data-bs-placement="bottom"
                    data-bs-title="Paste magic from other draws"
                >ðŸ“‹</button>
                <button onclick="erase()" type="button" class="btn btn-secondary"
                    data-bs-toggle="tooltip" data-bs-placement="bottom"
                    data-bs-title="Clear this draw"
                >Clear</button>
            </div>
            
        </div>

        <br/><br/>
    
        <div id="draw-results"></div>

        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="copyToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
              <div class="toast-header">
                <strong class="me-auto">Magic has been copied onto your clipboard</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
              </div>
              <div class="toast-body">
                Paste and share this with others. They can copy the magic and click ðŸ“‹ to display the same draw.
              </div>
            </div>
          </div>
    </div>

    <h6 style="position: fixed; bottom: 2rem; width: 100%; margin: auto;" class="lead">
        <b style="color: darkgoldenrod;">Harrow Debating Society</b> <br/>
        <i>augeat vox sapientiae</i>
    </h6>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script src="scripts/ns6.min.js"></script>

    <script usage="NS6_JS">
        function main() {
            executeDraw("draw-results", "speakers", "rooms", "adjudicators");
        }
        function paste() {
            pasteMagic("draw-results");
        }
        function erase() {
            eraseDraw("draw-results");
        }

        initTextareas("speakers", "rooms", "adjudicators");
        initPersistence("draw-results", "speakers", "rooms", "adjudicators");
    </script>

    <script usage="Bootstrap">
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));

        const toastLiveExample = document.getElementById('copyToast');
        document.getElementById('copyBtn').addEventListener('click', () => {
            const toast = new bootstrap.Toast(toastLiveExample);
            toast.show();
        });
    </script>
</body>

</html>
